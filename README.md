# Шпаргалка по Git

## Установка

### Для Windows

1. Перейти на [официальный сайт Git](https://git-scm.com/download/win) и скачать Standalone installer для своей версии Windows
2. Запустить установщик и следовать инструкциям
3. Проверить, стоит ли галочка напротив Git Bash here - это позволит открывать консоль с Git в любой папке

### Для Linux

1. На [официальном сайте Git](https://git-scm.com/download/linux) найти команду для своей версии Linux
2. Скопировать команду в Terminal и выполнить ее

### Для MacOS

#### 1 способ

В консоли выполнить команду `/usr/bin/git`, далее следовать инструкциям установщика

#### 2 способ

1. Установить Homebrew
2. В консоли выполнить команду `brew install git`

## GitHub

### Регистрация

1. Перейти на [главную страницу GitHub](https://github.com/)
2. Нажать кнопку Sign up и следовать инструкциям
3. Нажать Create account
4. Ввести код, который придет на указанную почту

### Создание удаленного репозитория

1. Зайти в свой профиль
2. Перейти во вкладку репозитории
3. Нажать на кнопку New
4. Назвать репозиторий и выставить другие настройки при необходимости

## SSH-ключи

Для того, чтобы обезопасить обмен данными в сети использются SSH-ключи (**S**ecure **Sh**ell Protocol).  
SSH использует пару ключей:
- **приватный**
  - используется для расшифровки данных
  - хранится на компьютере пользователя
  - **НЕ ДОЛЖЕН** передаваться кому-либо еще
- **публичный**
  - используется для шифрования данных
  - доступен всем
  - данные зашифрованные этим ключом могут быть расшифрованы парным *приватным* ключом

### Проверка наличи SSH-ключей

1. Перейти в домашнюю директорию `cd ~`
2. Выполнить команду `ls -la .ssh/`, которая проверит наличие директории .ssh/ и файлов в ней
3.  
   - Если папка пустая или ее нет, то можно генерировать новый ключ
   - Если есть ключи, но вы их не создавали то нужно их удалить (примеры ключей: id_dsa.pub, id_ecdsa.pub, id_ed25519.pub, id_rsa.pub)

### Генерация ключей

1. Выполнить команду в консоли `ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"`
   - Если появлятся сообщение об ошибке, занчит скорее всего система не поддерживает этот алгоритм шифрования
   - Тогда можно воспользоваться другим алгоритмом, например: `ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"`
2. Указать место хранения ключей (оставить пустым, чтобы использовать домашнюю директорию)
3. Программа запросит создать кодовую фразу (пароль от ключа). Можно оставить пустым

### Привязывание SSH-ключа к GitHub

1. Скопировать содержимое пубичного ключа в буфер обмена
   - macOS: `pbcopy < ~/.ssh/id_ed25519.pub`
   - Windows: `clip < ~/.ssh/id_ed25519.pub`
   - Если это не срботает, то можно вывести содержимое на экран и скопировать вручную: `cat ~/.ssh/id_ed25519.pub`
2. Перейти на GitHub, выбрать пункт Settings в меню аккаунта
3. В меню слева выбрать **SSH and GPG keys**
4. В открывшейся вкладке нажать **New SSH key**
5. В поле **Title** - название ключа
6. В поле **Key type** выбрать **Authentication Key**
7. В поле **Key** вставить ключ из буфера обмена
8. Нажать кнопку **Add SSH key**
9. Проверить правильность ключа с поиощью команды `ssh -T git@github.com`
10. В предупреждении проверить ключ на сходство с [этими](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints)
11. Ввести yes, если ключ совпадает, no, если не совпадает

## Основные команды

`git init` - **инициализировать** репозиторий в текущей папке  
`git version` - **узнать** текущую установленную версию git (можно использовать для проверки установки git)
`rm -rf .git` - **удалить** репозиторий (нужно удалить `.git`)  
`git status` - проверить **текущий статус** репозитория  
`git add <имя файла>` - указать какие файлы нужно **отслеживать** (для добавления всех файлов можно использовать флаг --all или . (текущая директория))  
`git commit -m '<сообщение коммита>'` - **сохранить** текущие версии добавленных (при помощи `git add`) файлов  
`git remote add <имя удаленного репозитория (обычно `origin`)> <URL удаленного репозитория>` - **связать** локальный и удаленный репозиторий  
`git remote -v` - **убедиться**, связаны ли репозитории  
`git remote rm origin` - **отвязать** локальный репозиторий от удаленного  
`git push -u origin master` - **отправить изменения** на удаленный репозиторий (первый раз)
- флаг `-u` связывает локальную ветку master с одноименной удаленной
- origin - имя удаленного репозитория
- master - название ветки  
`git push` - **отправить изменения** на удаленный репозиторий  
